<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 8. NoSQL datastores</title><!-- HibernateDoc.Meta --><meta name="description" content="Hibernate OGM, JPA for NoSQL datastores - Reference Documentation" /><meta name="keywords" content="hibernate, ogm, hibernate ogm, nosql, jpa, infinispan, mongodb, neo4j, cassandra, couchdb, ehcache, redis" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/" /><!-- /HibernateDoc.Meta --><link rel="stylesheet" type="text/css" href="css/hibernate.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><link rel="home" href="index.html" title="Hibernate OGM Reference Guide"/><link rel="up" href="index.html" title="Hibernate OGM Reference Guide"/><link rel="prev" href="ch07.html" title="Chapter 7. Query your entities"/><link rel="next" href="ch09.html" title="Chapter 9. Infinispan"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ch07.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch09.html"><strong>Next</strong></a></li></ul><div class="chapter" title="Chapter 8. NoSQL datastores"><div class="titlepage"><div><div><h2 class="title"><a id="ogm-datastore-providers"/>Chapter 8. NoSQL datastores</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch08.html#using_a_specific_nosql_datastore">8.1. Using a specific NoSQL datastore</a></span></dt></dl></div><p>Currently Hibernate OGM supports the following NoSQL datastores:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Map: stores data in an in-memory Java map to store data.
Use it only for unit tests.</li><li class="listitem">Infinispan: stores data into <a class="link" href="http://infinispan.org/">Infinispan</a> (data grid)</li><li class="listitem">Ehcache: stores data into <a class="link" href="http://ehcache.org/">Ehcache</a> (cache)</li><li class="listitem">MongoDB: stores data into <a class="link" href="http://www.mongodb.org/">MongoDB</a> (document store)</li><li class="listitem">Neo4j: stores data into <a class="link" href="http://www.neo4j.org/">Neo4j</a> (graph database)</li><li class="listitem"><p class="simpara">CouchDB: stores data into <a class="link" href="https://couchdb.apache.org/">CouchDB</a> (document store)</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">at this stage, this datastore is experimental</li></ul></div></li><li class="listitem"><p class="simpara">Redis: stores data into <a class="link" href="http://redis.io/">Redis</a> (key-value store)</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">at this stage, this datastore is experimental</li></ul></div></li></ul></div><p>More are planned, if you are interested,
come talk to us (see <a class="xref" href="ch01.html" title="Chapter 1. How to get help and contribute on Hibernate OGM">Chapter 1, <em>How to get help and contribute on Hibernate OGM</em></a>).</p><p>For each datastore, Hibernate OGM has specific integration code called a datastore provider.
All are in a dedicated maven module, you simply need to depend on the one you use.</p><p>Hibernate OGM interacts with NoSQL datastores via two contracts:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">a <code class="literal">DatastoreProvider</code> which is responsible for
starting and stopping the connection(s) with the datastore
and prop up the datastore if needed</li><li class="listitem">a <code class="literal">GridDialect</code> which is responsible for
converting an Hibernate OGM operation into a datastore specific operation</li></ul></div><div class="section" title="8.1. Using a specific NoSQL datastore"><div class="titlepage"><div><div><h2 class="title"><a id="using_a_specific_nosql_datastore"/>8.1. Using a specific NoSQL datastore</h2></div></div></div><p>Only a few steps are necessary:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">add the datastore provider module to your classpath</li><li class="listitem">ask Hibernate OGM to use that datastore provider</li><li class="listitem">configure the URL or configuration to reach the datastore</li></ul></div><p>Adding the relevant Hibernate OGM module in your classpath looks like this in Maven:</p><pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate.ogm&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-ogm-infinispan&lt;/artifactId&gt;
    &lt;version&gt;5.0.4.Final&lt;/version&gt;
&lt;/dependency&gt;</code></pre><p>The module names are
<code class="literal">hibernate-ogm-infinispan</code>, <code class="literal">hibernate-ogm-ehcache</code>, <code class="literal">hibernate-ogm-mongodb</code>, <code class="literal">hibernate-ogm-neo4j</code>, <code class="literal">hibernate-ogm-couchdb</code>, <code class="literal">hibernate-ogm-redis</code> and <code class="literal">hibernate-ogm-cassandra</code>.
The map datastore is included in the Hibernate OGM engine module.</p><p>Next, configure which datastore provider you want to use.
This is done via the <code class="literal">hibernate.ogm.datastore.provider</code> option.
Possible values are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">specific shortcuts (preferable): <code class="literal">map</code> (only to be used for unit tests),
<code class="literal">infinispan</code>, <code class="literal">ehcache</code>, <code class="literal">mongodb</code>, <code class="literal">neo4j_embedded</code>, <code class="literal">couchdb_experimental</code> or <code class="literal">redis_experimental</code></li><li class="listitem">the fully qualified class name of a <code class="literal">DatastoreProvider</code> implementation</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2><p>When bootstrapping a session factory or entity manager factory programmatically,
you should use the constants declared on <code class="literal">org.hibernate.ogm.cfg.OgmProperties</code> to specify configuration properties
such as <code class="literal">hibernate.ogm.datastore.provider</code>.</p><p>In this case you also can specify the provider in form of a class object of a datastore provider type
or pass an instance of a datastore provider type:</p><pre><code class="language-java">Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();

// pass the type
properties.put( OgmProperties.DATASTORE_PROVIDER, MongoDBDatastoreProvider.class );

EntityManagerFactory emf = Persistence.createEntityManagerFactory( "my-pu", properties );</code></pre></div><p>By default, a datastore provider chooses the grid dialect transparently
but you can override this setting with the <code class="literal">hibernate.ogm.datastore.grid_dialect</code> option.
Use the fully qualified class name of the <code class="literal">GridDialect</code> implementation.
Most users should ignore this setting entirely.</p><p>Let’s now look at the specifics of each datastore provider.
How to configure it further, what mapping structure is used and more.</p></div></div><script xmlns="" xmlns:d="http://docbook.org/ns/docbook" type="text/javascript" src="highlight.js/highlight.pack.js"> </script><script xmlns="" xmlns:d="http://docbook.org/ns/docbook" type="text/javascript">hljs.initHighlightingOnLoad();</script><script type="text/javascript">
dataLayer = [{'channel' : 'Hibernate', 'additional_tracking_code' : 'UA-45270411-3'}];
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJWS5L');</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NJWS5L" height="0" width="0" style="display:none;visibility:hidden"> </iframe></noscript><hr xmlns="" xmlns:d="http://docbook.org/ns/docbook"/><a xmlns="" xmlns:d="http://docbook.org/ns/docbook" href="legalnotice.html"/><ul class="docnav"><li class="previous"><a accesskey="p" href="ch07.html"><strong>Prev</strong>Chapter 7. Query your entities</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch09.html"><strong>Next</strong>Chapter 9. Infinispan</a></li></ul><!-- HibernateDoc.OutdatedContent --><script src="//code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="/hibernate/_outdated-content/outdated-content.js" type="text/javascript"></script><script type="text/javascript">var jQuery_3_1 = $.noConflict(true); jQuery_3_1(document).ready(function() { HibernateDoc.OutdatedContent.install("ogm"); });</script><!-- /HibernateDoc.OutdatedContent --></body></html>