<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 8. NoSQL datastores</title><!-- HibernateDoc.Meta --><meta name="description" content="Hibernate OGM, JPA for NoSQL datastores - Reference Documentation" /><meta name="keywords" content="hibernate, ogm, hibernate ogm, nosql, jpa, infinispan, mongodb, neo4j, cassandra, couchdb, ehcache" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.jboss.org/hibernate/stable/ogm/reference/en-US/html_single/" /><!-- /HibernateDoc.Meta --><link rel="stylesheet" href="css/hibernate.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="Hibernate OGM Reference Guide"/><link rel="up" href="index.html" title="Hibernate OGM Reference Guide"/><link rel="prev" href="ogm-query.html" title="Chapter 7. Query your entities"/><link rel="next" href="ogm-infinispan.html" title="Chapter 9. Infinispan"/></head><body><p id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ogm-query.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ogm-infinispan.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ogm-datastore-providers"/>Chapter 8. NoSQL datastores</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ogm-datastore-providers.html#_using_a_specific_nosql_datastore">8.1. Using a specific NoSQL datastore</a></span></dt></dl></div><p>Currently Hibernate OGM supports the following NoSQL datastores:</p><div class="itemizedlist"><ul><li>Map: stores data in an in-memory Java map to store data.
Use it only for unit tests.</li><li>Infinispan: stores data into <a class="ulink" href="http://infinispan.org/">Infinispan</a> (data grid)</li><li>Ehcache: stores data into <a class="ulink" href="http://ehcache.org/">Ehcache</a> (cache)</li><li>MongoDB: stores data into <a class="ulink" href="http://www.mongodb.org/">MongoDB</a> (document store)</li><li>Neo4j: stores data into <a class="ulink" href="http://www.neo4j.org/">Neo4j</a> (graph database)</li><li><p>CouchDB: stores data into <a class="ulink" href="https://couchdb.apache.org/">CouchDB</a> (document store)</p><div class="itemizedlist"><ul><li>at this stage, this datastore is experimental</li></ul></div></li></ul></div><p>More are planned, if you are interested,
come talk to us (see <a class="xref" href="ogm-howtocontribute.html" title="Chapter 1. How to get help and contribute on Hibernate OGM">Chapter 1, <i>How to get help and contribute on Hibernate OGM</i></a>).</p><p>For each datastore, Hibernate OGM has specific integration code called a datastore provider.
All are in a dedicated maven module, you simply need to depend on the one you use.</p><p>Hibernate OGM interacts with NoSQL datastores via two contracts:</p><div class="itemizedlist"><ul><li>a <code class="literal">DatastoreProvider</code> which is responsible for
starting and stopping the connection(s) with the datastore
and prop up the datastore if needed</li><li>a <code class="literal">GridDialect</code> which is responsible for
converting an Hibernate OGM operation into a datastore specific operation</li></ul></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="_using_a_specific_nosql_datastore"/>8.1. Using a specific NoSQL datastore</h2></div></div></div><p>Only a few steps are necessary:</p><div class="itemizedlist"><ul><li>add the datastore provider module in your classpath</li><li>ask Hibernate OGM to use that datastore provider</li><li>configure the URL or configuration to reach the datastore</li></ul></div><p>Adding the relevant Hibernate OGM module in your classpath looks like this in Maven:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dependency</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">groupId</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.ogm</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">groupId</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">artifactId</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">hibernate-ogm-infinispan</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">artifactId</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">version</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">4.1.3.Final</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">version</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dependency</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>The module names are
<code class="literal">hibernate-ogm-infinispan</code>, <code class="literal">hibernate-ogm-ehcache</code>, <code class="literal">hibernate-ogm-mongodb</code>, <code class="literal">hibernate-ogm-neo4j</code> and <code class="literal">hibernate-ogm-couchdb</code>.
The map datastore is included in the Hibernate OGM engine module.</p><p>Next, configure which datastore provider you want to use.
This is done via the <code class="literal">hibernate.ogm.datastore.provider</code> option.
Possible values are:</p><div class="itemizedlist"><ul><li>specific shortcuts (preferable): <code class="literal">map</code> (only to be used for unit tests),
<code class="literal">infinispan</code>, <code class="literal">ehcache</code>, <code class="literal">mongodb</code>, <code class="literal">neo4j_embedded</code> or <code class="literal">couchdb_experimental</code></li><li>the fully qualified class name of a <code class="literal"><span class="classname">DatastoreProvider</span></code> implementation</li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>When bootstrapping a session factory or entity manager factory programmatically,
you should use the constants declared on <code class="literal">OgmProperties</code> to specify configuration properties
such as <code class="literal">hibernate.ogm.datastore.provider</code>.</p><p>In this case you also can specify the provider in form of a class object of a datastore provider type
or pass an instance of a datastore provider type:</p><pre xmlns="" class="JAVA"><!-- <br/> --><span class="java_type">Map</span><!-- <br/> --><span class="java_operator">&lt;</span><!-- <br/> --><span class="java_type">String</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Object</span><!-- <br/> --><span class="java_operator">&gt;</span><!-- <br/> --><span class="java_plain">&nbsp;properties&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_keyword">new</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">HashMap</span><!-- <br/> --><span class="java_operator">&lt;</span><!-- <br/> --><span class="java_type">String</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">Object</span><!-- <br/> --><span class="java_operator">&gt;</span><!-- <br/> --><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">&nbsp;pass&nbsp;the&nbsp;type</span>
<!--  --><br/><span class="java_plain">properties</span><span class="java_separator">.</span><span class="java_plain">put</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_type">OgmProperties</span><span class="java_separator">.</span><span class="java_plain">DATASTORE_PROVIDER</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">MongoDBDatastoreProvider</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_type">EntityManagerFactory</span><span class="java_plain">&nbsp;emf&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Persistence</span><span class="java_separator">.</span><span class="java_plain">createEntityManagerFactory</span><span class="java_separator">(</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;my-pu&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;properties&nbsp;</span><span class="java_separator">);</span></pre></div><p>By default, a datastore provider chooses the best grid dialect transparently
but you can manually override that setting
with the <code class="literal">hibernate.ogm.datastore.grid_dialect</code> option.
Use the fully qualified class name of the <code class="literal"><span class="classname">GridDialect</span></code> implementation.
Most users should ignore this setting entirely and live a happier life instead.</p><p>Let’s now look at the specifics of each datastore provider.
How to configure it further, what mapping structure is used and more.</p></div></div><HR xmlns=""/><a xmlns="" href=""/><ul class="docnav"><li class="previous"><a accesskey="p" href="ogm-query.html"><strong>Prev</strong>Chapter 7. Query your entities</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="ogm-infinispan.html"><strong>Next</strong>Chapter 9. Infinispan</a></li></ul><!-- HibernateDoc.OutdatedContent --><script src="//code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="/hibernate/_outdated-content/outdated-content.js" type="text/javascript"></script><script type="text/javascript">var jQuery_3_1 = $.noConflict(true); jQuery_3_1(document).ready(function() { HibernateDoc.OutdatedContent.install("ogm"); });</script><!-- /HibernateDoc.OutdatedContent --></body></html>