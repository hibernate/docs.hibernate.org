<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Getting started with Hibernate Search&#8217;s Standalone POJO Mapper</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<!-- HibernateDoc.Meta -->
<meta name="description" content="Hibernate Search, full text search for your entities - Getting started with Hibernate Searchâ€™s Standalone POJO Mapper" />
<meta name="keywords" content="hibernate, search, hibernate search, full text, lucene, elasticsearch, opensearch" />
<link rel="canonical" href="https://docs.jboss.org/hibernate/stable/search/getting-started/standalone/en-US/html_single/" />
<!-- /HibernateDoc.Meta -->

<link rel="stylesheet" href="css/hibernate.css" type="text/css" />

<!-- Dynamic TOC -->
<!-- Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 -->
<style>
  /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
  #tocbot a.toc-link.node-name--H1{ font-style: italic }
  @media screen{
    #tocbot > ul.toc-list{ margin-bottom: 0.5em; margin-left: 0.125em }
    #tocbot ul.sectlevel0, #tocbot a.toc-link.node-name--H1 + ul{
      padding-left: 0 }
    #tocbot a.toc-link{ height:100% }
    .is-collapsible{ max-height:3000px; overflow:hidden; }
    .is-collapsed{ max-height:0 }
    .is-active-link{ font-weight:700 }
  }
  @media print{
    #tocbot a.toc-link.node-name--H4{ display:none }
    #tocbot a.toc-link.node-name--H5{ display:none }
    #tocbot a.toc-link.node-name--H6{ display:none }
  }
</style>
<!-- /Dynamic TOC -->
</head>
<body id="mapper-pojo-standalone-getting-started" class="book toc2 toc-left">
<div id="header">
<h1>Getting started with Hibernate Search&#8217;s Standalone POJO Mapper</h1>
<div class="details">
<span id="revdate">2024-04-10</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#mapper-pojo-standalone-getting-started-assumptions">1. Assumptions</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-dependencies">2. Dependencies</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-configuration">3. Configuration</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-mapping">4. Mapping</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-initialization">5. Initialization</a>
<ul class="sectlevel2">
<li><a href="#mapper-pojo-standalone-getting-started-initialization-schema-management">5.1. Schema management</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-initialization-indexing">5.2. Initial indexing</a></li>
</ul>
</li>
<li><a href="#mapper-pojo-standalone-getting-started-indexing">6. Indexing</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-searching">7. Searching</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-analysis">8. Analysis</a></li>
<li><a href="#mapper-pojo-standalone-getting-started-whats-next">9. What&#8217;s next</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Features detailed in this section are <em>incubating</em>: they are still under active development.</p>
</div>
<div class="paragraph">
<p>The usual <a href="https://hibernate.org/community/compatibility-policy/">compatibility policy</a> does not apply:
the contract of incubating elements (e.g. types, methods, configuration properties, etc.)
may be altered in a backward-incompatible way&#8201;&#8212;&#8201;or even removed&#8201;&#8212;&#8201;in subsequent releases.</p>
</div>
<div class="paragraph">
<p>You are encouraged to use incubating features so the development team can get feedback and improve them,
but you should be prepared to update code which relies on them as needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This guide will walk you through the initial steps required
to index and query your entities using <a href="http://hibernate.org/search/">Hibernate Search</a>,
when your entities are <strong>not</strong> defined in <a href="http://hibernate.org/orm/">Hibernate ORM</a>.</p>
</div>
<div class="paragraph">
<p>If your entities <strong>are</strong> defined in Hibernate ORM, see <a href="../../../orm/index/../en-US/html_single/index.html#mapper-orm-getting-started">this other guide</a> instead.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-assumptions"><a class="anchor" href="#mapper-pojo-standalone-getting-started-assumptions"></a>1. Assumptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This getting-started guide aims to be generic and does not tie itself to any framework in particular.
If you use <a href="https://quarkus.io/">Quarkus</a>, <a href="https://wildfly.org/">WildFly</a> or <a href="https://spring.io/projects/spring-boot">Spring Boot</a>,
make sure to first have a look at <a href="../../../../reference/index/../en-US/html_single/index.html#compatibility-framework">framework support</a> for tips and to learn about quirks.</p>
</div>
<div class="paragraph">
<p>For the sake of simplicity, this guide assumes you are building an application deployed as a single instance on a single node.
For more advanced setups, you are encouraged to have a look at the <a href="../../../../reference/index/../en-US/html_single/index.html#architecture-examples">Examples of architectures</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-dependencies"><a class="anchor" href="#mapper-pojo-standalone-getting-started-dependencies"></a>2. Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Hibernate Search artifacts can be found in Maven&#8217;s <a href="http://central.sonatype.org/">Central Repository</a>.</p>
</div>
<div class="paragraph">
<p>If you do not want to, or cannot, fetch the JARs from a Maven repository,
you can get them from the
<a href="http://sourceforge.net/projects/hibernate/files/hibernate-search/6.2.4.Final/">distribution bundle hosted at Sourceforge</a>.</p>
</div>
<div class="paragraph">
<p>In order to use Hibernate Search, you will need at least two direct dependencies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a dependency to the <a href="../../../../reference/index/../en-US/html_single/index.html#architecture-hsearch-components-mapper">"mapper"</a>,
which extracts data from your domain model and maps it to indexable documents;</p>
</li>
<li>
<p>and a dependency to the <a href="../../../../reference/index/../en-US/html_single/index.html#architecture-hsearch-components-backend">"backend"</a>,
which allows indexing and searching these documents.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below are the most common setups and matching dependencies for a quick start;
read <a href="../../../../reference/index/../en-US/html_single/index.html#architecture">Architecture</a> for more information.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Standalone POJO Mapper + Lucene</dt>
<dd>
<p>Allows indexing of entities that are not defined in Hibernate ORM,
in a single application node,
storing the index on the local filesystem.</p>
<div class="paragraph">
<p>If you get Hibernate Search from Maven, use these dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>org.hibernate.search<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>hibernate-search-mapper-pojo-standalone<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>6.2.4.Final<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>org.hibernate.search<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>hibernate-search-backend-lucene<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>6.2.4.Final<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you get Hibernate Search from the distribution bundle,
copy the JARs from <code>dist/engine</code>, <code>dist/mapper/pojo-standalone</code>, <code>dist/backend/lucene</code>,
and their respective <code>lib</code> subdirectories.</p>
</div>
</dd>
<dt class="hdlist1">Standalone POJO Mapper + <a href="https://www.elastic.co/elasticsearch">Elasticsearch</a> (or <a href="https://www.opensearch.org">OpenSearch</a>)</dt>
<dd>
<p>Allows indexing of entities that are not defined in Hibernate ORM,
on multiple application nodes,
storing the index on a remote Elasticsearch or OpenSearch cluster (to be configured separately).</p>
<div class="paragraph">
<p>If you get Hibernate Search from Maven, use these dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>org.hibernate.search<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>hibernate-search-mapper-pojo-standalone<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>6.2.4.Final<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;dependency&gt;</span>
   <span class="tag">&lt;groupId&gt;</span>org.hibernate.search<span class="tag">&lt;/groupId&gt;</span>
   <span class="tag">&lt;artifactId&gt;</span>hibernate-search-backend-elasticsearch<span class="tag">&lt;/artifactId&gt;</span>
   <span class="tag">&lt;version&gt;</span>6.2.4.Final<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you get Hibernate Search from the distribution bundle,
copy the JARs from <code>dist/engine</code>, <code>dist/mapper/pojo-standalone</code>, <code>dist/backend/elasticsearch</code>,
and their respective <code>lib</code> subdirectories.</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-configuration"><a class="anchor" href="#mapper-pojo-standalone-getting-started-configuration"></a>3. Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have added all required dependencies to your application,
it&#8217;s time to have a look at the configuration.</p>
</div>
<div class="paragraph">
<p>The configuration properties of Hibernate Search with the <a href="../../../../reference/index/../en-US/html_single/index.html#mapper-pojo-standalone">Standalone POJO Mapper</a>
are set programmatically when building the mapping.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Hibernate Search properties for a "Standalone POJO Mapper + Lucene" setup</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA">CloseableSearchMapping searchMapping = SearchMapping.builder() <i class="conum" data-value="1"></i><b>(1)</b>
        .property(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.mapping.configurer</span><span class="delimiter">&quot;</span></span>,
                (StandalonePojoMappingConfigurer) context -&gt; {
                    context.addEntityType( <span class="predefined-type">Book</span>.class ) <i class="conum" data-value="2"></i><b>(2)</b>
                            .addEntityType( Author.class );
                }
        )
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.directory.root</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">some/filesystem/path</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="3"></i><b>(3)</b>
        .build(); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a builder.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare <strong>all</strong> entity types that Hibernate Search may need to work with.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the location of indexes in the filesystem.
By default, the backend will store indexes in the current working directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Build the <code>SearchMapping</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. Hibernate Search properties for a "Standalone POJO Mapper + Elasticsearch/OpenSearch" setup</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA">CloseableSearchMapping searchMapping = SearchMapping.builder() <i class="conum" data-value="1"></i><b>(1)</b>
        .property(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.mapping.configurer</span><span class="delimiter">&quot;</span></span>,
                (StandalonePojoMappingConfigurer) context -&gt; {
                    context.addEntityType( <span class="predefined-type">Book</span>.class ) <i class="conum" data-value="2"></i><b>(2)</b>
                            .addEntityType( Author.class );
                }
        )
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.hosts</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">elasticsearch.mycompany.com</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="3"></i><b>(3)</b>
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.protocol</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">https</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="4"></i><b>(4)</b>
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.username</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">ironman</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="5"></i><b>(5)</b>
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.password</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">j@rV1s</span><span class="delimiter">&quot;</span></span> )
        .build(); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a builder.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare <strong>all</strong> entity types that Hibernate Search may need to work with.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the Elasticsearch hosts to connect to.
By default, the backend will attempt to connect to <code>localhost:9200</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set the protocol. The default is <code>http</code>, but you may need to use <code>https</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set the username and password for basic HTTP authentication.
You may also be interested in <a href="../../../../reference/index/../en-US/html_single/index.html#backend-elasticsearch-configuration-aws">AWS IAM authentication</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Build the <code>SearchMapping</code>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A few <a href="../../../../reference/index/../en-US/html_single/index.html#configuration-builder">util methods</a> are available to simplify
the dynamic building of property keys.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-mapping"><a class="anchor" href="#mapper-pojo-standalone-getting-started-mapping"></a>4. Mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s assume that your application contains the entity classes <code>Book</code> and <code>Author</code>
and you want to index them in order to search for books.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Book and Author entities BEFORE adding Hibernate Search specific annotations</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Book</span> {

    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="directive">private</span> <span class="predefined-type">String</span> title;

    <span class="directive">private</span> <span class="predefined-type">String</span> isbn;

    <span class="directive">private</span> <span class="type">int</span> pageCount;

    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Author&gt; authors = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> <span class="predefined-type">Book</span>() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Author</span> {

    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">Book</span>&gt; books = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> Author() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>To make these entities searchable, you will need to map them to an index structure.
The mapping can be defined using <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-annotations">annotations</a>,
or using a <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-programmatic">programmatic API</a>;
this getting started guide will show you a simple annotation mapping.
For more details, refer to <a href="../../../../reference/index/../en-US/html_single/index.html#mapping">Mapping entities to indexes</a>.</p>
</div>
<div class="paragraph">
<p>Below is an example of how the model above can be mapped.</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. Book and Author entities AFTER adding Hibernate Search specific annotations</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.DocumentId</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.GenericField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField</span>;

<span class="annotation">@Indexed</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Book</span> {

    <span class="annotation">@DocumentId</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="annotation">@FullTextField</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> title;

    <span class="annotation">@KeywordField</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> isbn;

    <span class="annotation">@GenericField</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="directive">private</span> <span class="type">int</span> pageCount;

    <span class="annotation">@IndexedEmbedded</span> <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Author&gt; authors = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> <span class="predefined-type">Book</span>() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.AssociationInverseSide</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.DocumentId</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.ObjectPath</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.PropertyValue</span>;

<i class="conum" data-value="7"></i><b>(7)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Author</span> {

    <span class="annotation">@DocumentId</span> <i class="conum" data-value="8"></i><b>(8)</b>
    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="annotation">@FullTextField</span> <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="annotation">@AssociationInverseSide</span>(inversePath = <span class="annotation">@ObjectPath</span>(<span class="annotation">@PropertyValue</span>(propertyName = <span class="string"><span class="delimiter">&quot;</span><span class="content">authors</span><span class="delimiter">&quot;</span></span>))) <i class="conum" data-value="9"></i><b>(9)</b>
    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">Book</span>&gt; books = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> Author() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>@Indexed</code> marks <code>Book</code> as indexed, i.e. an index will be created for that entity, and that index will be kept up to date.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>@DocumentId</code> marks the property used to generate a document identifier.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>@FullTextField</code> maps a property to a full-text index field with the same name and type.
Full-text fields are broken down into tokens and normalized (lowercased, &#8230;&#8203;).
Here we&#8217;re relying on default analysis configuration,
but most applications need to customize it;
this will be addressed <a href="#mapper-pojo-standalone-getting-started-analysis">further down</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>@KeywordField</code> maps a property to a non-analyzed index field.
Useful for identifiers, for example.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Hibernate Search is not just for full-text search: you can index non-<code>String</code> types with the <code>@GenericField</code> annotation,
A <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-directfieldmapping-supported-types">broad range of property types</a> are supported out-of-the-box,
such as primitive types (<code>int</code>, <code>double</code>, &#8230;&#8203;) and their boxed counterpart (<code>Integer</code>, <code>Double</code>, &#8230;&#8203;),
enums, date/time types, <code>BigInteger</code>/<code>BigDecimal</code>, etc.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>@IndexedEmbedded</code> "embeds" the indexed form of associated objects (entities or embeddables)
into the indexed form of the embedding entity.
<div class="paragraph">
<p>Here, the <code>Author</code> class defines a single indexed field, <code>name</code>.
Thus adding <code>@IndexedEmbedded</code> to the <code>authors</code> property of <code>Book</code>
will add a single field named <code>authors.name</code> to the <code>Book</code> index.
This field will be populated automatically based on the content of the <code>authors</code> property,
and the books will be re-indexed whenever Hibernate Search <a href="../../../../reference/index/../en-US/html_single/index.html#architecture-hsearch-indexing">detects that the <code>name</code> property of their author changes</a>.
See <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-indexedembedded">Mapping associated elements with <code>@IndexedEmbedded</code></a> for more information.</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Entities that are only <code>@IndexedEmbedded</code> in other entities,
but do not require to be searchable by themselves, do not need to be annotated with <code>@Indexed</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Most of the time, you will need to put <code>@DocumentId</code> on contained, non-indexed entity types such as <code>Author</code>,
to allow Hibernate Search to retrieve the identifier from entities of that type.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>Book</code> embeds data from the <code>Author</code> entity, so <code>Book</code> needs to be reindexed when <code>Author</code> changes,
and thus Hibernate Search needs to be able to retrieve the books of a particular author when the author changes.
For that reason, we need to provide information to Hibernate Search about the inverse side of associations.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>This is a very simple example, but is enough to get started.
Just remember that Hibernate Search allows more complex mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multiple <code>@*Field</code> annotations exist, some of them allowing full-text search,
some of them allowing finer-grained configuration for field of a certain type.
You can find out more about <code>@*Field</code> annotations in <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-directfieldmapping">Mapping a property to an index field with <code>@GenericField</code>, <code>@FullTextField</code>, &#8230;&#8203;</a>.</p>
</li>
<li>
<p>Properties, or even types, can be mapped with finer-grained control using "bridges".
This allows the mapping of types that are not supported out-of-the-box.
See <a href="../../../../reference/index/../en-US/html_single/index.html#binding">Binding and bridges</a> for more information.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-initialization"><a class="anchor" href="#mapper-pojo-standalone-getting-started-initialization"></a>5. Initialization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before the application is started for the first time,
some initialization may be required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The indexes and their schema need to be created.</p>
</li>
<li>
<p>Data already present in another datastore (if any) needs to be indexed.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="mapper-pojo-standalone-getting-started-initialization-schema-management"><a class="anchor" href="#mapper-pojo-standalone-getting-started-initialization-schema-management"></a>5.1. Schema management</h3>
<div class="paragraph">
<p>Before indexing can take place, indexes and their schema need to be created,
either on disk (Lucene) or through REST API calls (Elasticsearch).</p>
</div>
<div class="paragraph">
<p>Fortunately, by default, Hibernate Search will take care of creating indexes on the first startup:
you don&#8217;t have to do anything.</p>
</div>
<div class="paragraph">
<p>The next time the application is started, existing indexes will be re-used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Any change to your mapping (adding new fields, changing the type of existing fields, &#8230;&#8203;)
between two restarts of the application
will require an update to the index schema.</p>
</div>
<div class="paragraph">
<p>This will require some special handling, though it can easily be solved by dropping and re-creating the index.
See <a href="../../../../reference/index/../en-US/html_single/index.html#mapping-changes">Changing the mapping of an existing application</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="mapper-pojo-standalone-getting-started-initialization-indexing"><a class="anchor" href="#mapper-pojo-standalone-getting-started-initialization-indexing"></a>5.2. Initial indexing</h3>
<div class="paragraph">
<p>As we&#8217;ll see <a href="#mapper-pojo-standalone-getting-started-indexing">later</a>, Hibernate Search makes it possible to explicitly index an entity
every time it changes in the application.</p>
</div>
<div class="paragraph">
<p>However, if you use Hibernate Search to index data from another datastore,
this datastore may already contain data when you add the Hibernate Search integration.
That data is unknown to Hibernate Search, and thus has to be indexed through a batch process.</p>
</div>
<div class="paragraph">
<p>This is possible thanks to the mass indexer API,
but a little more involved than
with the <a href="../../../orm/index/../en-US/html_single/index.html#mapper-orm-getting-started-initialization-indexing">Hibernate ORM mapper</a>,
because a way to load entities from the other datastore needs to be plugged in.</p>
</div>
<div class="paragraph">
<p>Due to this (relative) complexity, we won&#8217;t cover it in this guide,
but if you want to know more,
have a look at <a href="../../../../reference/index/../en-US/html_single/index.html#mapper-pojo-standalone-indexing-massindexer">Mass indexing</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-indexing"><a class="anchor" href="#mapper-pojo-standalone-getting-started-indexing"></a>6. Indexing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Indexing is performed explicitly through an <code>SearchIndexingPlan</code>, accessible from a <code>SearchSession</code>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, in particular when using the Elasticsearch backend,
changes will not be visible right after the session is closed.
A slight delay (by default one second) will be necessary for Elasticsearch to process the changes.</p>
</div>
<div class="paragraph">
<p>For that reason, if you modify entities in a session,
and then execute a search query right after that session is closed,
the search results may not be consistent with the changes you just performed.</p>
</div>
<div class="paragraph">
<p>See <a href="../../../../reference/index/../en-US/html_single/index.html#indexing-automatic-synchronization">Synchronization with the indexes</a> for more information about this behavior and how to tune it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use <code>add</code> when the entity is first added and you are absolutely certain it does not exist in the index yet:</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. Using the Standalone POJO Mapper to index data</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) { <i class="conum" data-value="1"></i><b>(1)</b>
    Author author = <span class="keyword">new</span> Author(); <i class="conum" data-value="2"></i><b>(2)</b>
    author.setId( <span class="integer">1</span> );
    author.setName( <span class="string"><span class="delimiter">&quot;</span><span class="content">John Doe</span><span class="delimiter">&quot;</span></span> );

    <span class="predefined-type">Book</span> book = <span class="keyword">new</span> <span class="predefined-type">Book</span>();
    book.setId( <span class="integer">2</span> );
    book.setTitle( <span class="string"><span class="delimiter">&quot;</span><span class="content">Refactoring: Improving the Design of Existing Code</span><span class="delimiter">&quot;</span></span> );
    book.setIsbn( <span class="string"><span class="delimiter">&quot;</span><span class="content">978-0-58-600835-5</span><span class="delimiter">&quot;</span></span> );
    book.setPageCount( <span class="integer">200</span> );
    book.getAuthors().add( author );
    author.getBooks().add( book );

    session.indexingPlan().add( author ); <i class="conum" data-value="3"></i><b>(3)</b>
    session.indexingPlan().add( book );
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Use <code>addOrUpdate</code> to add/update the entity when the entity may already exist in the index:</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. Using the Standalone POJO Mapper to index data</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) {
    book.setTitle( <span class="string"><span class="delimiter">&quot;</span><span class="content">On Cleanup of Existing Code</span><span class="delimiter">&quot;</span></span> );
    session.indexingPlan().addOrUpdate( book );
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Add use <code>delete</code> to delete the entity from the index:</p>
</div>
<div class="exampleblock">
<div class="title">Example 7. Using the Standalone POJO Mapper to index data</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) {
    session.indexingPlan().delete( book );
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-searching"><a class="anchor" href="#mapper-pojo-standalone-getting-started-searching"></a>7. Searching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the data is indexed, you can perform search queries.</p>
</div>
<div class="paragraph">
<p>The following code will prepare a search query targeting the index for the <code>Book</code> entity,
filtering the results so that at least one field among <code>title</code> and <code>authors.name</code>
contains the string <code>refactoring</code>.
The matches are implicitly on words ("tokens") instead of the full string,
and are case-insensitive: that&#8217;s because the targeted fields are <strong>full-text</strong> fields
with the <a href="#mapper-pojo-standalone-getting-started-analysis-default-analyzer">default analyzer</a> being applied.</p>
</div>
<div class="exampleblock">
<div class="title">Example 8. Using Hibernate Search to query the indexes</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) { <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">SearchResult</span>&lt;<span class="predefined-type">Integer</span>&gt; result = session.search( <span class="predefined-type">Book</span>.class ) <i class="conum" data-value="2"></i><b>(2)</b>
            .select( f -&gt; f.id( <span class="predefined-type">Integer</span>.class ) ) <i class="conum" data-value="3"></i><b>(3)</b>
            .where( f -&gt; f.match() <i class="conum" data-value="4"></i><b>(4)</b>
                    .fields( <span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">authors.name</span><span class="delimiter">&quot;</span></span> )
                    .matching( <span class="string"><span class="delimiter">&quot;</span><span class="content">refactoring</span><span class="delimiter">&quot;</span></span> ) )
            .fetch( <span class="integer">20</span> ); <i class="conum" data-value="5"></i><b>(5)</b>

    <span class="type">long</span> totalHitCount = result.total().hitCount(); <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; hits = result.hits(); <i class="conum" data-value="7"></i><b>(7)</b>

    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; hits2 =
            <span class="comment">/* ... same DSL calls as above... */</span>
                    .fetchHits( <span class="integer">20</span> ); <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a Hibernate Search session, called <code>SearchSession</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initiate a search query on the index mapped to the <code>Book</code> entity.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Define that we will only retrieve entity identifiers.
Retrieving entities directly is possible, but requires <a href="../../../../reference/index/../en-US/html_single/index.html#mapper-pojo-standalone-search-query-loading">more configuration</a>,
so we won&#8217;t discuss it in this guide.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Define that only documents matching the given predicate should be returned.
The predicate is created using a factory <code>f</code> passed as an argument to the lambda expression.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Build the query and fetch the results, limiting to the top 20 hits.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Retrieve the total number of matching entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Retrieve the identifiers of matching entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>In case you&#8217;re not interested in the whole result, but only in the hits,
you can also call <code>fetchHits()</code> directly.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>If for some reason you don&#8217;t want to use lambdas, you can use an alternative, object-based syntax,
but it will be a bit more verbose:</p>
</div>
<div class="exampleblock">
<div class="title">Example 9. Using Hibernate Search to query the indexes&#8201;&#8212;&#8201;object-based syntax</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) { <i class="conum" data-value="1"></i><b>(1)</b>
    SearchScope&lt;<span class="predefined-type">Book</span>&gt; scope = session.scope( <span class="predefined-type">Book</span>.class ); <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="predefined-type">SearchResult</span>&lt;<span class="predefined-type">Integer</span>&gt; result = session.search( scope ) <i class="conum" data-value="3"></i><b>(3)</b>
            .select( f -&gt; f.id( <span class="predefined-type">Integer</span>.class ) ) <i class="conum" data-value="4"></i><b>(4)</b>
            .where( scope.predicate().match() <i class="conum" data-value="5"></i><b>(5)</b>
                    .fields( <span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">authors.name</span><span class="delimiter">&quot;</span></span> )
                    .matching( <span class="string"><span class="delimiter">&quot;</span><span class="content">refactoring</span><span class="delimiter">&quot;</span></span> )
                    .toPredicate() )
            .fetch( <span class="integer">20</span> ); <i class="conum" data-value="6"></i><b>(6)</b>

    <span class="type">long</span> totalHitCount = result.total().hitCount(); <i class="conum" data-value="7"></i><b>(7)</b>
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; hits = result.hits(); <i class="conum" data-value="8"></i><b>(8)</b>

    <span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; hits2 =
            <span class="comment">/* ... same DSL calls as above... */</span>
                    .fetchHits( <span class="integer">20</span> ); <i class="conum" data-value="9"></i><b>(9)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a Hibernate Search session, called <code>SearchSession</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a "search scope", representing the indexed types that will be queried.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Initiate a search query targeting the search scope.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Define that we will only retrieve entity identifiers.
Retrieving entities directly is possible, but requires <a href="../../../../reference/index/../en-US/html_single/index.html#mapper-pojo-standalone-search-query-loading">more configuration</a>,
so we won&#8217;t discuss it in this guide.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Define that only documents matching the given predicate should be returned.
The predicate is created using the same search scope as the query.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Build the query and fetch the results, limiting to the top 20 hits.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Retrieve the total number of matching entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Retrieve the identifiers of matching entities.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>In case you&#8217;re not interested in the whole result, but only in the hits,
you can also call <code>fetchHits()</code> directly.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>It is possible to get just the total hit count, using <code>fetchTotalHitCount()</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 10. Using Hibernate Search to count the matches</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) {
    <span class="type">long</span> totalHitCount = session.search( <span class="predefined-type">Book</span>.class )
            .where( f -&gt; f.match()
                    .fields( <span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">authors.name</span><span class="delimiter">&quot;</span></span> )
                    .matching( <span class="string"><span class="delimiter">&quot;</span><span class="content">refactoring</span><span class="delimiter">&quot;</span></span> ) )
            .fetchTotalHitCount(); <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Fetch the total hit count.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>While the examples above retrieved hits as entity identifiers,
it is just one of the possible hit types.
See <a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-projection">Projection DSL</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-analysis"><a class="anchor" href="#mapper-pojo-standalone-getting-started-analysis"></a>8. Analysis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Full-text search allows fast matches on words in a case-insensitive way,
which is one step further than substring search in a relational database.
But it can get much better: what if we want a search with the term "refactored"
to match our book whose title contains "refactoring"?
That&#8217;s possible with custom analysis.</p>
</div>
<div class="paragraph">
<p>Analysis defines how both the indexed text and search terms are supposed to be processed.
This involves <em>analyzers</em>,
which are made up of three types of components, applied one after the other:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>zero or (rarely) more character filters, to clean up the input text:
<code>A &lt;strong&gt;GREAT&lt;/strong&gt; rÃ©sume</code> &#8658; <code>A GREAT rÃ©sume</code>.</p>
</li>
<li>
<p>a tokenizer, to split the input text into words, called "tokens":
<code>A GREAT rÃ©sume</code> &#8658; <code>[A, GREAT, rÃ©sume]</code>.</p>
</li>
<li>
<p>zero or more token filters, to normalize the tokens and remove meaningless tokens.
<code>[A, GREAT, rÃ©sume]</code> &#8658; <code>[great, resume]</code>.</p>
</li>
</ul>
</div>
<div id="mapper-pojo-standalone-getting-started-analysis-default-analyzer" class="paragraph">
<p>There are built-in analyzers,
in particular the default one, which will:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tokenize (split) the input according to the Word Break rules
of the <a href="http://unicode.org/reports/tr29/">Unicode Text Segmentation algorithm</a>;</p>
</li>
<li>
<p>filter (normalize) tokens by turning uppercase letters to lowercase.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default analyzer is a good fit for most language, but is not very advanced.
To get the most out of analysis, you will need to define a custom analyzer
by picking the tokenizer and filters most suited to your specific needs.</p>
</div>
<div class="paragraph">
<p>The following paragraphs will explain how to configure and use
a simple yet reasonably useful analyzer.
For more information about analysis and how to configure it,
refer to the <a href="../../../../reference/index/../en-US/html_single/index.html#concepts-analysis">Analysis</a> section.</p>
</div>
<div class="paragraph">
<p>Each custom analyzer needs to be given a name in Hibernate Search.
This is done through analysis configurers, which are defined per backend:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, you need to implement an analysis configurer, a Java class that implements a backend-specific interface:
<code>LuceneAnalysisConfigurer</code> or <code>ElasticsearchAnalysisConfigurer</code>.</p>
</li>
<li>
<p>Second, you need to alter the configuration of your backend to actually use your analysis configurer.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>As an example, let&#8217;s assume that one of your indexed <code>Book</code> entities has the title
"Refactoring: Improving the Design of Existing Code",
and you want to get hits for any of the following search terms:
"Refactor", "refactors", "refactored" and "refactoring".
One way to achieve this is to use an analyzer with the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A "standard" tokenizer, which splits words at whitespaces, punctuation characters and hyphens.
It is a good general-purpose tokenizer.</p>
</li>
<li>
<p>A "lowercase" filter, which converts every character to lowercase.</p>
</li>
<li>
<p>A "snowball" filter, which applies language-specific <a href="https://en.wikipedia.org/wiki/Stemming">stemming</a>.</p>
</li>
<li>
<p>Finally, an "ascii-folding" filter, which replaces characters with diacritics ("Ã©", "Ã ", &#8230;&#8203;)
with their ASCII equivalent ("e", "a", &#8230;&#8203;).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The examples below show how to define an analyzer with these components, depending on the backend you picked.</p>
</div>
<div class="exampleblock">
<div class="title">Example 11. Analysis configurer implementation and configuration for a "Standalone POJO Mapper + Lucene" setup</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">package</span> <span class="namespace">org.hibernate.search.documentation.mapper.pojo.standalone.gettingstarted.withhsearch.customanalysis</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurationContext</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurer</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyLuceneAnalysisConfigurer</span> <span class="directive">implements</span> LuceneAnalysisConfigurer {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> configure(LuceneAnalysisConfigurationContext context) {
        context.analyzer( <span class="string"><span class="delimiter">&quot;</span><span class="content">english</span><span class="delimiter">&quot;</span></span> ).custom() <i class="conum" data-value="1"></i><b>(1)</b>
                .tokenizer( <span class="string"><span class="delimiter">&quot;</span><span class="content">standard</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="2"></i><b>(2)</b>
                .tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">lowercase</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="3"></i><b>(3)</b>
                .tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">snowballPorter</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="3"></i><b>(3)</b>
                        .param( <span class="string"><span class="delimiter">&quot;</span><span class="content">language</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">English</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="4"></i><b>(4)</b>
                .tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">asciiFolding</span><span class="delimiter">&quot;</span></span> );

        context.analyzer( <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> ).custom() <i class="conum" data-value="5"></i><b>(5)</b>
                .tokenizer( <span class="string"><span class="delimiter">&quot;</span><span class="content">standard</span><span class="delimiter">&quot;</span></span> )
                .tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">lowercase</span><span class="delimiter">&quot;</span></span> )
                .tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">asciiFolding</span><span class="delimiter">&quot;</span></span> );
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA">CloseableSearchMapping searchMapping = SearchMapping.builder()
        .property(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.mapping.configurer</span><span class="delimiter">&quot;</span></span>,
                (StandalonePojoMappingConfigurer) context -&gt; {
                    context.addEntityType( <span class="predefined-type">Book</span>.class )
                            .addEntityType( Author.class );
                }
        )
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.directory.root</span><span class="delimiter">&quot;</span></span>,
                <span class="string"><span class="delimiter">&quot;</span><span class="content">some/filesystem/path</span><span class="delimiter">&quot;</span></span> )
        .property( <span class="string"><span class="delimiter">&quot;</span><span class="content">hibernate.search.backend.analysis.configurer</span><span class="delimiter">&quot;</span></span>,
                BeanReference.of( MyLuceneAnalysisConfigurer.class, BeanRetrieval.CLASS ) ) <i class="conum" data-value="6"></i><b>(6)</b>
        .build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define a custom analyzer named "english", to analyze English text such as book titles.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the tokenizer to a standard tokenizer.
You need to pass Lucene-specific names to refer to tokenizers;
see <a href="../../../../reference/index/../en-US/html_single/index.html#backend-lucene-analysis-analyzers">Custom analyzers and normalizers</a> for information about available tokenizers, their name and their parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the token filters. Token filters are applied in the order they are given.
Here too, Lucene-specific names are expected;
see <a href="../../../../reference/index/../en-US/html_single/index.html#backend-lucene-analysis-analyzers">Custom analyzers and normalizers</a> for information about available token filters, their name and their parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Set the value of a parameter for the last added char filter/tokenizer/token filter.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Define another custom analyzer, called "name", to analyze author names.
On contrary to the first one, do not enable stemming (no <code>snowballPorter</code> token filter),
as it is unlikely to lead to useful results on proper nouns.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Assign the configurer to the backend in the Hibernate Search configuration properties.
For more information about the bean references, see <a href="../../../../reference/index/../en-US/html_single/index.html#configuration-bean-reference">Bean references</a>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 12. Analysis configurer implementation and configuration for a "Standalone POJO Mapper + Elasticsearch/OpenSearch" setup</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">package</span> <span class="namespace">org.hibernate.search.documentation.mapper.pojo.standalone.gettingstarted.withhsearch.customanalysis</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">MyElasticsearchAnalysisConfigurer</span> <span class="directive">implements</span> ElasticsearchAnalysisConfigurer {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> configure(ElasticsearchAnalysisConfigurationContext context) {
        context.analyzer( <span class="string"><span class="delimiter">&quot;</span><span class="content">english</span><span class="delimiter">&quot;</span></span> ).custom() <i class="conum" data-value="1"></i><b>(1)</b>
                .tokenizer( <span class="string"><span class="delimiter">&quot;</span><span class="content">standard</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="2"></i><b>(2)</b>
                .tokenFilters( <span class="string"><span class="delimiter">&quot;</span><span class="content">lowercase</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">snowball_english</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">asciifolding</span><span class="delimiter">&quot;</span></span> ); <i class="conum" data-value="3"></i><b>(3)</b>

        context.tokenFilter( <span class="string"><span class="delimiter">&quot;</span><span class="content">snowball_english</span><span class="delimiter">&quot;</span></span> ) <i class="conum" data-value="4"></i><b>(4)</b>
                .type( <span class="string"><span class="delimiter">&quot;</span><span class="content">snowball</span><span class="delimiter">&quot;</span></span> )
                .param( <span class="string"><span class="delimiter">&quot;</span><span class="content">language</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">English</span><span class="delimiter">&quot;</span></span> ); <i class="conum" data-value="5"></i><b>(5)</b>

        context.analyzer( <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> ).custom() <i class="conum" data-value="6"></i><b>(6)</b>
                .tokenizer( <span class="string"><span class="delimiter">&quot;</span><span class="content">standard</span><span class="delimiter">&quot;</span></span> )
                .tokenFilters( <span class="string"><span class="delimiter">&quot;</span><span class="content">lowercase</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">asciifolding</span><span class="delimiter">&quot;</span></span> );
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML">CloseableSearchMapping searchMapping = SearchMapping.builder()
        .property(
                &quot;hibernate.search.mapping.configurer&quot;,
                (StandalonePojoMappingConfigurer) context -<span class="error">&gt;</span> {
                    context.addEntityType( Book.class )
                            .addEntityType( Author.class );
                }
        )
        .property( &quot;hibernate.search.backend.hosts&quot;,
                &quot;elasticsearch.mycompany.com&quot; )
        .property( &quot;hibernate.search.backend.analysis.configurer&quot;,
                BeanReference.of( MyElasticsearchAnalysisConfigurer.class, BeanRetrieval.CLASS ) ) <i class="conum" data-value="7"></i><b>(7)</b>
        .build();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define a custom analyzer named "english", to analyze English text such as book titles.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the tokenizer to a standard tokenizer.
You need to pass Elasticsearch-specific names to refer to tokenizers;
see <a href="../../../../reference/index/../en-US/html_single/index.html#backend-elasticsearch-analysis-analyzers">Custom analyzers and normalizers</a> for information about available tokenizers, their name and their parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the token filters. Token filters are applied in the order they are given.
Here too, Elasticsearch-specific names are expected;
see <a href="../../../../reference/index/../en-US/html_single/index.html#backend-elasticsearch-analysis-analyzers">Custom analyzers and normalizers</a> for information about available token filters, their name and their parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Note that, for Elasticsearch, any parameterized char filter, tokenizer or token filter
must be defined separately and assigned a new name.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Set the value of a parameter for the char filter/tokenizer/token filter being defined.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Define another custom analyzer, named "name", to analyze author names.
On contrary to the first one, do not enable stemming (no <code>snowball_english</code> token filter),
as it is unlikely to lead to useful results on proper nouns.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Assign the configurer to the backend in the Hibernate Search configuration properties.
For more information about the bean references, see <a href="../../../../reference/index/../en-US/html_single/index.html#configuration-bean-reference">Bean references</a>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Once analysis is configured, the mapping must be adapted to assign the relevant analyzer to each field:</p>
</div>
<div class="exampleblock">
<div class="title">Example 13. Book and Author entities after adding Hibernate Search specific annotations</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.DocumentId</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.GenericField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField</span>;

<span class="annotation">@Indexed</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Book</span> {

    <span class="annotation">@DocumentId</span>
    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="annotation">@FullTextField</span>(analyzer = <span class="string"><span class="delimiter">&quot;</span><span class="content">english</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> title;

    <span class="annotation">@KeywordField</span>
    <span class="directive">private</span> <span class="predefined-type">String</span> isbn;

    <span class="annotation">@GenericField</span>
    <span class="directive">private</span> <span class="type">int</span> pageCount;

    <span class="annotation">@IndexedEmbedded</span>
    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Author&gt; authors = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> <span class="predefined-type">Book</span>() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.AssociationInverseSide</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.DocumentId</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.ObjectPath</span>;
<span class="keyword">import</span> <span class="include">org.hibernate.search.mapper.pojo.mapping.definition.annotation.PropertyValue</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Author</span> {

    <span class="annotation">@DocumentId</span>
    <span class="directive">private</span> <span class="predefined-type">Integer</span> id;

    <span class="annotation">@FullTextField</span>(analyzer = <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="directive">private</span> <span class="predefined-type">String</span> name;

    <span class="annotation">@AssociationInverseSide</span>(inversePath = <span class="annotation">@ObjectPath</span>(<span class="annotation">@PropertyValue</span>(propertyName = <span class="string"><span class="delimiter">&quot;</span><span class="content">authors</span><span class="delimiter">&quot;</span></span>)))
    <span class="directive">private</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">Book</span>&gt; books = <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;();

    <span class="directive">public</span> Author() {
    }

    <span class="comment">// Getters and setters</span>
    <span class="comment">// ...</span>

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Replace the <code>@GenericField</code> annotation with <code>@FullTextField</code>,
and set the <code>analyzer</code> parameter to the name of the custom analyzer configured earlier.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Mapping changes are not auto-magically applied to already-indexed data.
Unless you know what you are doing, you should remember to
<a href="#mapper-pojo-standalone-getting-started-initialization-schema-management">update your schema</a>
and <a href="#mapper-pojo-standalone-getting-started-initialization-indexing">reindex your data</a>
after you changed the Hibernate Search mapping of your entities.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>That&#8217;s it! Now, once the entities will be re-indexed, you will be able to search for the terms
"Refactor", "refactors", "refactored" or "refactoring",
and the book entitled "Refactoring: Improving the Design of Existing Code"
will show up in the results.</p>
</div>
<div class="exampleblock">
<div class="title">Example 14. Using Hibernate Search to query the indexes after analysis was configured</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="JAVA"><span class="keyword">try</span> ( SearchSession session = searchMapping.createSession() ) {
    <span class="predefined-type">SearchResult</span>&lt;<span class="predefined-type">Integer</span>&gt; result = session.search( <span class="predefined-type">Book</span>.class )
            .select( f -&gt; f.id( <span class="predefined-type">Integer</span>.class ) )
            .where( f -&gt; f.match()
                    .fields( <span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">authors.name</span><span class="delimiter">&quot;</span></span> )
                    .matching( <span class="string"><span class="delimiter">&quot;</span><span class="content">refactored</span><span class="delimiter">&quot;</span></span> ) )
            .fetch( <span class="integer">20</span> );
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mapper-pojo-standalone-getting-started-whats-next"><a class="anchor" href="#mapper-pojo-standalone-getting-started-whats-next"></a>9. What&#8217;s next</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The above paragraphs gave you an overview of Hibernate Search.</p>
</div>
<div class="paragraph">
<p>The next step after this tutorial is to get more familiar
with the overall architecture of Hibernate Search (<a href="../../../../reference/index/../en-US/html_single/index.html#architecture">Architecture</a>)
and review the <a href="../../../../reference/index/../en-US/html_single/index.html#architecture-examples">Examples of architectures</a> to pick the most appropriate for your use case.</p>
</div>
<div class="paragraph">
<p>You may also want to explore the basic features in more detail.
Two topics which were only briefly touched in this tutorial
were analysis configuration (<a href="../../../../reference/index/../en-US/html_single/index.html#concepts-analysis">Analysis</a>) and bridges (<a href="../../../../reference/index/../en-US/html_single/index.html#binding">Binding and bridges</a>).
Both are important features required for more fine-grained indexing.</p>
</div>
<div class="paragraph">
<p>When it comes to initializing your index, you will be interested
in <a href="../../../../reference/index/../en-US/html_single/index.html#schema-management">schema management</a>
and <a href="../../../../reference/index/../en-US/html_single/index.html#mapper-pojo-standalone-indexing-massindexer">mass indexing</a>.</p>
</div>
<div class="paragraph">
<p>When querying, you will probably want to know more about
<a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-predicate">predicates</a>,
<a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-sort">sorts</a>, <a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-projection">projections</a>,
<a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-aggregation">aggregations</a>,
<a href="../../../../reference/index/../en-US/html_single/index.html#search-dsl-highlighting">highlights</a>.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-04-10 07:43:43 UTC
</div>
</div>
<!-- HibernateDoc.OutdatedContent -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
<script src="/hibernate/_outdated-content/outdated-content.js" type="text/javascript"></script>
<script type="text/javascript">var jQuery_3_1 = $.noConflict(true); jQuery_3_1(document).ready(function() { HibernateDoc.OutdatedContent.install('search'); });</script>
<!-- /HibernateDoc.OutdatedContent -->

<!-- Dynamic TOC -->
<!-- Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006 -->
<script src="script/tocbot-3.0.2/tocbot.min.js"></script>
<script>
    /* Tocbot dynamic TOC, works with tocbot 3.0.2 */
    /* Source: https://github.com/asciidoctor/asciidoctor/issues/699#issuecomment-321066006
     * Adapted to auto-detect the heading selector.
     */
    var oldtoc = document.getElementById('toctitle').nextElementSibling;

    var headingSelectorVal;
    if (oldtoc.querySelector('.sectlevel5')) {
        headingSelectorVal = 'h1, h2, h3, h4, h5, h6'
    }
    else if (oldtoc.querySelector('.sectlevel4')) {
        headingSelectorVal = 'h1, h2, h3, h4, h5'
    }
    else if (oldtoc.querySelector('.sectlevel3')) {
        headingSelectorVal = 'h1, h2, h3, h4'
    }
    else if (oldtoc.querySelector('.sectlevel2')) {
        headingSelectorVal = 'h1, h2, h3'
    }
    else if (oldtoc.querySelector('.sectlevel1')) {
        headingSelectorVal = 'h1, h2'
    }
    else {
        // In case something went wrong
        headingSelectorVal = 'h1, h2, h3, h4'
    }

    var newtoc = document.createElement('div');
    newtoc.setAttribute('id', 'tocbot');
    newtoc.setAttribute('class', 'js-toc');
    oldtoc.parentNode.replaceChild(newtoc, oldtoc);
    tocbot.init({ contentSelector: '#content',
        headingSelector: headingSelectorVal,
        smoothScroll: false });
    var handleTocOnResize = function() {
        var width = window.innerWidth
                    || document.documentElement.clientWidth
                    || document.body.clientWidth;
        if (width < 768) {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: headingSelectorVal,
                collapseDepth: 6,
                activeLinkClass: 'ignoreactive',
                throttleTimeout: 1000,
                smoothScroll: false });
        }
        else {
            tocbot.refresh({ contentSelector: '#content',
                headingSelector: headingSelectorVal,
                smoothScroll: false });
        }
    };
    window.addEventListener('resize', handleTocOnResize);
    handleTocOnResize();
</script>
<!-- /Dynamic TOC -->
</body>
</html>