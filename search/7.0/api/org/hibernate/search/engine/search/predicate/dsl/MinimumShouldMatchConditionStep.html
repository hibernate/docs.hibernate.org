<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Apr 10 08:26:06 UTC 2024 -->
<title>MinimumShouldMatchConditionStep (Hibernate Search 7.0.1.Final)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-04-10">
<meta name="description" content="declaration: package: org.hibernate.search.engine.search.predicate.dsl, interface: MinimumShouldMatchConditionStep">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MinimumShouldMatchConditionStep.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.hibernate.search.engine.search.predicate.dsl</a></div>
<h1 title="Interface MinimumShouldMatchConditionStep" class="title">Interface MinimumShouldMatchConditionStep&lt;N&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>N</code> - The type of the next step (returned by <a href="MinimumShouldMatchMoreStep.html#end()"><code>MinimumShouldMatchMoreStep.end()</code></a>).</dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="MinimumShouldMatchMoreStep.html" title="interface in org.hibernate.search.engine.search.predicate.dsl">MinimumShouldMatchMoreStep</a>&lt;N&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MinimumShouldMatchConditionStep&lt;N&gt;</span></div>
<div class="block">The step in a "minimum should match" constraint definition
 where a condition can be defined as necessary for the following requirements to be enforced.

 <h2 id="minimumshouldmatch">"minimumShouldMatch" constraints</h2>
 <p>
 "minimumShouldMatch" constraints define a minimum number of "should" clauses that have to match
 in order for the boolean predicate to match.
 <p>
 The feature is similar, and will work identically, to
 <a href="https://lucene.apache.org/solr/7_3_0/solr-core/org/apache/solr/util/doc-files/min-should-match.html">"Min Number Should Match"</a>
 in Solr or
 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-minimum-should-match.html"><code>minimum_should_match</code></a>
 in Elasticsearch.

 <h3 id="minimumshouldmatch-minimum">Definition of the minimum</h3>
 <p>
 The minimum may be defined either directly as a positive number, or indirectly as a negative number
 or positive or negative percentage representing a ratio of the total number of "should" clauses in this boolean predicate.
 <p>
 Here is how each type of input is interpreted:
 <dl>
     <dt>Positive number</dt>
     <dd>
         The value is interpreted directly as the minimum number of "should" clauses that have to match.
     </dd>
     <dt>Negative number</dt>
     <dd>
         The absolute value is interpreted as the maximum number of "should" clauses that may not match:
         the absolute value is subtracted from the total number of "should" clauses.
     </dd>
     <dt>Positive percentage</dt>
     <dd>
         The value is interpreted as the minimum percentage of the total number of "should" clauses that have to match:
         the percentage is applied to the total number of "should" clauses, then rounded down.
     </dd>
     <dt>Negative percentage</dt>
     <dd>
         The absolute value is interpreted as the maximum percentage of the total number of "should" clauses that may not match:
         the absolute value of the percentage is applied to the total number of "should" clauses, then rounded down,
         then subtracted from the total number of "should" clauses.
     </dd>
 </dl>
 <p>
 In any case, if the computed minimum is 0 or less, or higher than the total number of "should" clauses,
 behavior is backend-specific (it may throw an exception, or produce unpredictable results,
 or fall back to some default behavior).

 <h3 id="minimumshouldmatch-conditionalconstraints">Conditional constraints</h3>
 <p>
 Multiple conditional constraints may be defined,
 only one of them being applied depending on the total number of "should" clauses.
 <p>
 Each constraint is attributed a minimum number of "should" clauses
 that have to match, <strong>and an additional number</strong>.
 The additional number is unique to each constraint.
 <p>
 The additional number will be compared to the total number of "should" clauses,
 and the one closest while still strictly lower will be picked: its associated constraint will be applied.
 If no number matches, the minimum number of matching "should" clauses
 will be set to the total number of "should" clauses.
 <p>
 Examples:
 <pre><code>
     // Example 1: at least 3 "should" clauses have to match
     f.bool().[...].minimumShouldMatchNumber( 3 );
     // Example 2: at most 2 "should" clauses may not match
     f.bool().[...].minimumShouldMatchNumber( -2 );
     // Example 3: at least 75% of "should" clauses have to match (rounded down)
     f.bool().[...].minimumShouldMatchPercent( 75 );
     // Example 4: at most 25% of "should" clauses may not match (rounded down)
     f.bool().[...].minimumShouldMatchPercent( -25 );
     // Example 5: if there are 3 "should" clauses or less, all "should" clauses have to match.
     // If there are 4 "should" clauses or more, at least 90% of "should" clauses have to match (rounded down).
     f.bool().[...].minimumShouldMatchPercent( 3, 90 );
     // Example 6: if there are 4 "should" clauses or less, all "should" clauses have to match.
     // If there are 5 to 9 "should" clauses, at most 25% of "should" clauses may not match (rounded down).
     // If there are 10 "should" clauses or more, at most 3 "should" clauses may not match.
     f.bool().[...].minimumShouldMatch()
             .ifMoreThan( 4 ).thenRequirePercent( 25 )
             .ifMoreThan( 9 ).thenRequireNumber( -3 )
             .end();
 </code></pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="MinimumShouldMatchRequireStep.html" title="interface in org.hibernate.search.engine.search.predicate.dsl">MinimumShouldMatchRequireStep</a>&lt;<a href="MinimumShouldMatchConditionStep.html" title="type parameter in MinimumShouldMatchConditionStep">N</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#ifMoreThan(int)" class="member-name-link">ifMoreThan</a><wbr>(int&nbsp;ignoreConstraintCeiling)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Start adding a <a href="#minimumshouldmatch">"minimumShouldMatch" constraint</a> that will be applied
 if (and only if) there are strictly more than <code>ignoreConstraintCeiling</code> "should" clauses.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="ifMoreThan(int)">
<h3>ifMoreThan</h3>
<div class="member-signature"><span class="return-type"><a href="MinimumShouldMatchRequireStep.html" title="interface in org.hibernate.search.engine.search.predicate.dsl">MinimumShouldMatchRequireStep</a>&lt;<a href="MinimumShouldMatchConditionStep.html" title="type parameter in MinimumShouldMatchConditionStep">N</a>&gt;</span>&nbsp;<span class="element-name">ifMoreThan</span><wbr><span class="parameters">(int&nbsp;ignoreConstraintCeiling)</span></div>
<div class="block">Start adding a <a href="#minimumshouldmatch">"minimumShouldMatch" constraint</a> that will be applied
 if (and only if) there are strictly more than <code>ignoreConstraintCeiling</code> "should" clauses.
 <p>
 See <a href="#minimumshouldmatch-conditionalconstraints">Conditional constraints</a> for the detailed rules
 defining whether a constraint is applied or not.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ignoreConstraintCeiling</code> - The number of "should" clauses above which the constraint
 will cease to be ignored.</dd>
<dt>Returns:</dt>
<dd>The next step, where the minimum required number or percentage of should clauses to match can be set.
 This requirement will only be taken into account when there are strictly more
 than <code>ignoreConstraintCeiling</code> "should" clauses.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; 2006-2024 <a href="https://www.redhat.com/">Red Hat, Inc.</a> and others. Licensed under the GNU Lesser General Public License (LGPL), version 2.1 or later.</small></p>
</footer>
</div>
</div>
</body>
</html>
