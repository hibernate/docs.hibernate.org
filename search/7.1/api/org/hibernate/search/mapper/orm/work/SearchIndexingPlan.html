<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Aug 30 19:39:53 UTC 2024 -->
<title>SearchIndexingPlan (Hibernate Search 7.1.2.Final)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-08-30">
<meta name="description" content="declaration: package: org.hibernate.search.mapper.orm.work, interface: SearchIndexingPlan">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SearchIndexingPlan.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.hibernate.search.mapper.orm.work</a></div>
<h1 title="Interface SearchIndexingPlan" class="title">Interface SearchIndexingPlan</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">SearchIndexingPlan</span></div>
<div class="block">An interface for indexing entities in the context of an ORM Session.
 <p>
 This class is stateful: it queues operations internally to apply them at a later time.
 <p>
 When <a href="#process()"><code>process()</code></a> is called,
 or when <a href="../cfg/HibernateOrmMapperSettings.html#INDEXING_LISTENERS_ENABLED"><code>indexing listeners are enabled</code></a>
 and a Hibernate ORM Session <code>flush()</code> happens,
 the entities will be processed and index documents will be built
 and stored in an internal buffer.
 <p>
 When <a href="#execute()"><code>execute()</code></a> is called,
 or when <a href="../cfg/HibernateOrmMapperSettings.html#INDEXING_LISTENERS_ENABLED"><code>indexing listeners are enabled</code></a>
 and a Hibernate ORM transaction is committed or a Hibernate ORM Session <code>flush()</code> happens outside of any transaction,
 the operations will be actually sent to the index.
 <p>
 Note that <a href="#execute()"><code>execute()</code></a> will implicitly trigger processing of documents that weren't processed yet,
 if any, so calling <a href="#process()"><code>process()</code></a> is not necessary if you call <a href="#execute()"><code>execute()</code></a> just next.
 <p>
 <a href="#process()"><code>process()</code></a> and <a href="#execute()"><code>execute()</code></a> are mostly useful when listener-triggered indexing is disabled,
 to control the indexing process explicitly.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addOrUpdate(java.lang.Object)" class="member-name-link">addOrUpdate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Add or update a document in the index if the entity type is mapped to an index
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>),
 and re-index documents that embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#delete(java.lang.Object)" class="member-name-link">delete</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Delete the entity from the index if the entity type is mapped to an index
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>),
 and re-index documents that embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#execute()" class="member-name-link">execute</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Write all pending changes to the index now,
 without waiting for a Hibernate ORM flush event or transaction commit.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#process()" class="member-name-link">process</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Extract all data from objects passed to the indexing plan so far,
 creates documents to be indexed and put them into an internal buffer,
 without writing them to the indexes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#purge(java.lang.Class,java.lang.Object,java.lang.String)" class="member-name-link">purge</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;entityClass,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providedId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;providedRoutingKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Delete the entity from the index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#purge(java.lang.String,java.lang.Object,java.lang.String)" class="member-name-link">purge</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;entityName,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providedId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;providedRoutingKey)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Delete the entity from the index.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addOrUpdate(java.lang.Object)">
<h3>addOrUpdate</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">addOrUpdate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity)</span></div>
<div class="block">Add or update a document in the index if the entity type is mapped to an index
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>),
 and re-index documents that embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity to add or update in the index.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../util/common/SearchException.html" title="class in org.hibernate.search.util.common">SearchException</a></code> - If the entity type is not indexed,
 neither directly (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>)
 nor through another indexed type that embeds it (<a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(java.lang.Object)">
<h3>delete</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity)</span></div>
<div class="block">Delete the entity from the index if the entity type is mapped to an index
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>),
 and re-index documents that embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity to delete from the index.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../util/common/SearchException.html" title="class in org.hibernate.search.util.common">SearchException</a></code> - If the entity type is not indexed,
 neither directly (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>)
 nor through another indexed type that embeds it (<a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="purge(java.lang.Class,java.lang.Object,java.lang.String)">
<h3>purge</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">purge</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;entityClass,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providedId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;providedRoutingKey)</span></div>
<div class="block">Delete the entity from the index.
 <p>
 On contrary to <a href="#delete(java.lang.Object)"><code>delete(Object)</code></a>,
 if documents embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example),
 these documents will <strong>not</strong> be re-indexed,
 leaving the indexes in an inconsistent state
 until they are re-indexed manually.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityClass</code> - The class of the entity to delete from the index.</dd>
<dd><code>providedId</code> - A value to extract the document ID from.
 Generally the expected value is the entity ID, but a different value may be expected depending on the mapping.</dd>
<dd><code>providedRoutingKey</code> - The routing key to route the purge request to the appropriate index shard.
 Leave <code>null</code> if sharding is disabled or does not rely on custom routing keys.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../util/common/SearchException.html" title="class in org.hibernate.search.util.common">SearchException</a></code> - If the entity type is not indexed directly
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="purge(java.lang.String,java.lang.Object,java.lang.String)">
<h3>purge</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">purge</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;entityName,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providedId,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;providedRoutingKey)</span></div>
<div class="block">Delete the entity from the index.
 <p>
 On contrary to <a href="#delete(java.lang.Object)"><code>delete(Object)</code></a>,
 if documents embed this entity
 (through <a href="../../pojo/mapping/definition/annotation/IndexedEmbedded.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>IndexedEmbedded</code></a> for example),
 these documents will <strong>not</strong> be re-indexed,
 leaving the indexes in an inconsistent state
 until they are re-indexed manually.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityName</code> - An entity name. See <code>Entity.name()</code>.</dd>
<dd><code>providedId</code> - A value to extract the document ID from.
 Generally the expected value is the entity ID, but a different value may be expected depending on the mapping.</dd>
<dd><code>providedRoutingKey</code> - The routing key to route the purge request to the appropriate index shard.
 Leave <code>null</code> if sharding is disabled or does not rely on custom routing keys.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../util/common/SearchException.html" title="class in org.hibernate.search.util.common">SearchException</a></code> - If the entity type is not indexed directly
 (<a href="../../pojo/mapping/definition/annotation/Indexed.html" title="annotation in org.hibernate.search.mapper.pojo.mapping.definition.annotation"><code>Indexed</code></a>).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="process()">
<h3>process</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">process</span>()</div>
<div class="block">Extract all data from objects passed to the indexing plan so far,
 creates documents to be indexed and put them into an internal buffer,
 without writing them to the indexes.
 <p>
 Calling this method is optional: the <a href="#execute()"><code>execute()</code></a> method
 or the automatic write on transaction commit will perform the extraction as necessary.
 <p>
 However, calling this method can be useful before a session is cleared
 if <a href="../cfg/HibernateOrmMapperSettings.html#INDEXING_LISTENERS_ENABLED"><code>indexing listeners</code></a> are disabled:
 it will make sure the data lost when clearing the session will no longer be necessary for indexing.
 <p>
 Caution: calling this method repeatedly without a call to <a href="#execute()"><code>execute()</code></a>
 will add more and more data to an internal document buffer,
 which may lead to an <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/OutOfMemoryError.html" title="class or interface in java.lang" class="external-link"><code>OutOfMemoryError</code></a>.
 Use with caution in batch processes.</div>
</section>
</li>
<li>
<section class="detail" id="execute()">
<h3>execute</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">execute</span>()</div>
<div class="block">Write all pending changes to the index now,
 without waiting for a Hibernate ORM flush event or transaction commit.
 <p>
 If a transaction is active and is ultimately rolled back,
 the written changes will not be rolled back,
 causing indexes to become out of sync with the database.
 Thus, calling this method should generally be avoided,
 and relying on automatic write on transaction commit should be preferred.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; 2006-2024 <a href="https://www.redhat.com/">Red Hat, Inc.</a> and others. Licensed under the GNU Lesser General Public License (LGPL), version 2.1 or later.</small></p>
</footer>
</div>
</div>
</body>
</html>
