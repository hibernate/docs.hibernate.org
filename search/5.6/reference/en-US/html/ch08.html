<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 8. Monitoring</title><!-- HibernateDoc.Meta --><meta name="description" content="Hibernate Search, full text search for your entities - Reference Documentation" /><meta name="keywords" content="hibernate, search, hibernate search, full text, lucene, elasticsearch" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/" /><!-- /HibernateDoc.Meta --><link rel="stylesheet" type="text/css" href="docbook.css"/><link rel="stylesheet" type="text/css" href="css/hibernate.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"/><link rel="prev" href="ch07.html" title="Chapter 7. Index Optimization"/><link rel="next" href="ch09.html" title="Chapter 9. Spatial"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-282CVRCQHZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-282CVRCQHZ');
</script>
<!-- /Google Analytics -->
</head><body><header><p id="title"><a href="http://www.hibernate.org" class="site_href"><strong>Hibernate.org</strong></a><a href="http://hibernate.org/Documentation/DocumentationOverview" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ch07.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch09.html"><strong>Next</strong></a></li></ul></header><section class="chapter" id="search-monitoring"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Monitoring</h1></div></div></div><div class="toc"><ul class="toc"><li><span class="section"><a href="ch08.html#_jmx">8.1. JMX</a></span><ul><li><span class="section"><a href="ch08.html#_statisticsinfombean">8.1.1. StatisticsInfoMBean</a></span></li><li><span class="section"><a href="ch08.html#_indexcontrolmbean">8.1.2. IndexControlMBean</a></span></li><li><span class="section"><a href="ch08.html#_indexingprogressmonitormbean">8.1.3. IndexingProgressMonitorMBean</a></span></li></ul></li></ul></div><p>Hibernate Search offers access to a <code class="literal">Statistics</code> object via <code class="literal">SearchFactory.getStatistics()</code>.
It allows you for example to determine which classes are indexed and how many entities are in the index.
This information is always available. However, by specifying the
<code class="literal">hibernate.search.generate_statistics</code> property in your configuration you can also collect total
and average Lucene query and object loading timings.</p><section class="section" id="_jmx"><div class="titlepage"><div><div><h2 class="title">8.1. JMX</h2></div></div></div><p>You can also enable access to the statistics via JMX.
Setting the property <code class="literal">hibernate.search.jmx_enabled</code> will automatically register the <code class="literal">StatisticsInfoMBean</code>.
Depending on your the configuration the <code class="literal">IndexControlMBean</code> and <code class="literal">IndexingProgressMonitorMBean</code> will also be
registered. In case you are having more than one JMX enabled Hibernate Search instance running
within a single JVM, you should also set <code class="literal">hibernate.search.jmx_bean_suffix</code> to a different value for
each of the instances. The specified suffix will be used to distinguish between the different MBean
instances. Let’s have a closer look at the mentioned MBeans.</p><div style="margin-left: 0.5in; margin-right: 0.5in;" class="tip"><h2>Tip</h2><p>If you want to access your JMX beans remotely via JConsole make sure to set the system property
<code class="literal">com.sun.management.jmxremote</code> to true.</p></div><section class="section" id="_statisticsinfombean"><div class="titlepage"><div><div><h3 class="title">8.1.1. StatisticsInfoMBean</h3></div></div></div><p>This MBean gives you access to Statistics object as described in the previous section.</p></section><section class="section" id="_indexcontrolmbean"><div class="titlepage"><div><div><h3 class="title">8.1.2. IndexControlMBean</h3></div></div></div><p>This MBean allows to build, optimize and purge the index for a given entity. Indexing occurs via the
mass indexing API (see <a class="xref" href="ch06.html#search-batchindex-massindexer" title="6.3.2. Using a MassIndexer">Section 6.3.2, “Using a MassIndexer”</a>). A requirement for this bean to be
registered in JMX is, that the Hibernate SessionFactory is bound to JNDI via the
<code class="literal">hibernate.session_factory_name</code> property. Refer to the Hibernate Core manual for more
information on how to configure JNDI. The IndexControlMBean and its API are for now experimental.</p></section><section class="section" id="_indexingprogressmonitormbean"><div class="titlepage"><div><div><h3 class="title">8.1.3. IndexingProgressMonitorMBean</h3></div></div></div><p>This MBean is an implementation MassIndexerProgressMonitor interface.
If <code class="literal">hibernate.search.jmx_enabled</code> is enabled and the mass indexer API is used the indexing progress
can be followed via this bean. The bean will only be bound to JMX while indexing is in progress.
Once indexing is completed the MBean is not longer available.</p></section></section></section><script type="text/javascript" src="highlight.js/highlight.pack.js"> </script><script type="text/javascript">hljs.initHighlightingOnLoad();</script><hr/><footer><ul class="docnav"><li class="previous"><a accesskey="p" href="ch07.html"><strong>Prev</strong>Chapter 7. Index Optimization</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch09.html"><strong>Next</strong>Chapter 9. Spatial</a></li></ul></footer><!-- HibernateDoc.OutdatedContent --><script src="//code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="/hibernate/_outdated-content/outdated-content.js" type="text/javascript"></script><script type="text/javascript">var jQuery_3_1 = $.noConflict(true); jQuery_3_1(document).ready(function() { HibernateDoc.OutdatedContent.install("search"); });</script><!-- /HibernateDoc.OutdatedContent --></body></html>