<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CustomEntityDirtinessStrategy (Hibernate Javadocs)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.hibernate, interface: CustomEntityDirtinessStrategy">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CustomEntityDirtinessStrategy.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.hibernate</a></div>
<h1 title="Interface CustomEntityDirtinessStrategy" class="title">Interface CustomEntityDirtinessStrategy</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="boot/internal/DefaultCustomEntityDirtinessStrategy.html" title="class in org.hibernate.boot.internal">DefaultCustomEntityDirtinessStrategy</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">CustomEntityDirtinessStrategy</span></div>
<div class="block">During a flush cycle, Hibernate needs to determine which of the entities associated with a <a href="Session.html" title="interface in org.hibernate"><code>Session</code></a>
 are <em>dirty</em>, meaning modified. Dirty entities will be UPDATEed in the database.
 <p>
 In some circumstances, the process of determining whether an entity is dirty can carry a significant overhead,
 since, by default, Hibernate must check each of the entity's attribute values one by one. Sometimes, an
 application already has knowledge of an entity's dirtiness and making use of that information would save some
 work. This contract allows the application to take over the task of determining if an entity is dirty.
 <p>
 For example, the application program might define an interface implemented by entities which keep track of
 their own modified fields:
 <pre>
 public interface DirtyTracker {
     Set&lt;String&gt; changes();
 }
 </pre>
 Then the following implementation of <code>CustomEntityDirtinessStrategy</code> would be used:
 <pre>
 public class DirtyTrackerDirtinessStrategy implements CustomEntityDirtinessStrategy {
     &#64;Override
     public boolean canDirtyCheck(Object entity, EntityPersister persister, Session session) {
         return entity instanceof DirtyTracker;
     }

     &#64;Override
     public boolean isDirty(Object entity, EntityPersister persister, Session session) {
         return !((DirtyTracker) entity).changes().isEmpty();
     }

     &#64;Override
     public void resetDirty(Object entity, EntityPersister persister, Session session) {
         ((DirtyTracker) entity).changes().clear();
     }

     &#64;Override
     public void findDirty(Object entity, EntityPersister persister, Session session, DirtyCheckContext dirtyCheckContext) {
         dirtyCheckContext.doDirtyChecking( attributeInformation ->
                ((DirtyTracker) entity).changes().contains( attributeInformation.getName() ) );
     }
 }
 </pre></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="cfg/AvailableSettings.html#CUSTOM_ENTITY_DIRTINESS_STRATEGY"><code>AvailableSettings.CUSTOM_ENTITY_DIRTINESS_STRATEGY</code></a></li>
<li><a href="cfg/Configuration.html#setCustomEntityDirtinessStrategy(org.hibernate.CustomEntityDirtinessStrategy)"><code>Configuration.setCustomEntityDirtinessStrategy(CustomEntityDirtinessStrategy)</code></a></li>
<li><a href="boot/SessionFactoryBuilder.html#applyCustomEntityDirtinessStrategy(org.hibernate.CustomEntityDirtinessStrategy)"><code>SessionFactoryBuilder.applyCustomEntityDirtinessStrategy(CustomEntityDirtinessStrategy)</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CustomEntityDirtinessStrategy.AttributeChecker.html" class="type-name-link" title="interface in org.hibernate">CustomEntityDirtinessStrategy.AttributeChecker</a></code></div>
<div class="col-last even-row-color">
<div class="block">Responsible for identifying when attributes are dirty.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CustomEntityDirtinessStrategy.AttributeInformation.html" class="type-name-link" title="interface in org.hibernate">CustomEntityDirtinessStrategy.AttributeInformation</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Provides <a href="CustomEntityDirtinessStrategy.AttributeChecker.html" title="interface in org.hibernate"><code>CustomEntityDirtinessStrategy.AttributeChecker</code></a> with meta information about the attributes being checked.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CustomEntityDirtinessStrategy.DirtyCheckContext.html" class="type-name-link" title="interface in org.hibernate">CustomEntityDirtinessStrategy.DirtyCheckContext</a></code></div>
<div class="col-last even-row-color">
<div class="block">A callback to drive dirty checking.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#canDirtyCheck(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)" class="member-name-link">canDirtyCheck</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Is this strategy capable of telling whether the given entity is dirty?  A return of <code>true</code> means that
 <a href="#isDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)"><code>isDirty(java.lang.Object, org.hibernate.persister.entity.EntityPersister, org.hibernate.Session)</code></a> will be called next as the definitive means to determine whether the entity is dirty.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#findDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session,org.hibernate.CustomEntityDirtinessStrategy.DirtyCheckContext)" class="member-name-link">findDirty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session,
 <a href="CustomEntityDirtinessStrategy.DirtyCheckContext.html" title="interface in org.hibernate">CustomEntityDirtinessStrategy.DirtyCheckContext</a>&nbsp;dirtyCheckContext)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Callback used to hook into Hibernate algorithm for determination of which attributes have changed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)" class="member-name-link">isDirty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The callback used by Hibernate to determine if the given entity is dirty.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#resetDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)" class="member-name-link">resetDirty</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Callback used by Hibernate to signal that the entity dirty flag should be cleared.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="canDirtyCheck(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)">
<h3>canDirtyCheck</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">canDirtyCheck</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</span></div>
<div class="block">Is this strategy capable of telling whether the given entity is dirty?  A return of <code>true</code> means that
 <a href="#isDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)"><code>isDirty(java.lang.Object, org.hibernate.persister.entity.EntityPersister, org.hibernate.Session)</code></a> will be called next as the definitive means to determine whether the entity is dirty.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity to be checked</dd>
<dd><code>persister</code> - The persister corresponding to the given entity</dd>
<dd><code>session</code> - The session from which this check originates.</dd>
<dt>Returns:</dt>
<dd><code>true</code> indicates the dirty check can be done; <code>false</code> indicates it cannot.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)">
<h3>isDirty</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isDirty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</span></div>
<div class="block">The callback used by Hibernate to determine if the given entity is dirty.  Only called if the previous
 <a href="#canDirtyCheck(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)"><code>canDirtyCheck(java.lang.Object, org.hibernate.persister.entity.EntityPersister, org.hibernate.Session)</code></a> returned <code>true</code></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity to check.</dd>
<dd><code>persister</code> - The persister corresponding to the given entity</dd>
<dd><code>session</code> - The session from which this check originates.</dd>
<dt>Returns:</dt>
<dd><code>true</code> indicates the entity is dirty; <code>false</code> indicates the entity is not dirty.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session)">
<h3>resetDirty</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">resetDirty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session)</span></div>
<div class="block">Callback used by Hibernate to signal that the entity dirty flag should be cleared.  Generally this
 happens after previous dirty changes were written to the database.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity to reset</dd>
<dd><code>persister</code> - The persister corresponding to the given entity</dd>
<dd><code>session</code> - The session from which this call originates.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findDirty(java.lang.Object,org.hibernate.persister.entity.EntityPersister,org.hibernate.Session,org.hibernate.CustomEntityDirtinessStrategy.DirtyCheckContext)">
<h3>findDirty</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">findDirty</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;entity,
 <a href="persister/entity/EntityPersister.html" title="interface in org.hibernate.persister.entity">EntityPersister</a>&nbsp;persister,
 <a href="Session.html" title="interface in org.hibernate">Session</a>&nbsp;session,
 <a href="CustomEntityDirtinessStrategy.DirtyCheckContext.html" title="interface in org.hibernate">CustomEntityDirtinessStrategy.DirtyCheckContext</a>&nbsp;dirtyCheckContext)</span></div>
<div class="block">Callback used to hook into Hibernate algorithm for determination of which attributes have changed.  Applications
 wanting to hook in to this would call back into the given <a href="CustomEntityDirtinessStrategy.DirtyCheckContext.html#doDirtyChecking(org.hibernate.CustomEntityDirtinessStrategy.AttributeChecker)"><code>CustomEntityDirtinessStrategy.DirtyCheckContext.doDirtyChecking(org.hibernate.CustomEntityDirtinessStrategy.AttributeChecker)</code></a>
 method, passing along an appropriate <a href="CustomEntityDirtinessStrategy.AttributeChecker.html" title="interface in org.hibernate"><code>CustomEntityDirtinessStrategy.AttributeChecker</code></a> implementation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entity</code> - The entity being checked</dd>
<dd><code>persister</code> - The persister corresponding to the given entity</dd>
<dd><code>session</code> - The session from which this call originates.</dd>
<dd><code>dirtyCheckContext</code> - The callback context</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; 2001-2025 <a href="https://redhat.com">Red Hat, Inc.</a>  All Rights Reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
